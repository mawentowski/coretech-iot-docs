<div class="title-box">
    <h1 class="topic-title">Print API Calls</h1>
    <div class="action-statement">
        Learn about the required components of a Print API call
    </div>
</div>

<p>
    Below is a sample API call to the Print API that requests a device print a
    document. The request is comprised of a Resource URL, Header Parameters, an
    Authorization Header, and a Request Body.
</p>
<div class="code-section no-tabs">
    <div class="code-section-header">
        <div class="lang-label-container">
            <div class="">
                <div class="lang-label">Curl</div>
            </div>
        </div>
        <div class="copy-code-btn-container">
            <button class="copy-code-btn">
                <svg
                    viewBox="0 0 1000 1000"
                    height="20"
                    width="20"
                    xmlns="http://www.w3.org/2000/svg"
                    role="img"
                >
                    <title>Copy to Clipboard</title>
                    <path
                        d="M704 896H64V320h640v192h64V192c0-35-29-64-64-64H512C512 57 455 0 384 0S256 57 256 128H64c-35 0-64 29-64 64v704c0 35 29 64 64 64h640c35 0 64-29 64-64V768h-64v128zM192 192h64s64-29 64-64 29-64 64-64 64 29 64 64 32 64 64 64h64s64 29 64 64H128c0-39 28-64 64-64zm-64 512h128v-64H128v64zm448-128V448L320 640l256 192V704h220V576H576zM128 832h192v-64H128v64zm320-448H128v64h220v-64zM256 512H128v64h128v-64z"
                    />
                </svg>
            </button>
        </div>
    </div>
    <div class="copied-popup">Copied!</div>
    <div class="code-content dark">
        <pre><code class="language-bash">
curl --location -g --request POST 'https://{{baseurl}}/print/v2/boardingpass/pdf' \
--header 'location-id: {{locationId}}' \
--header 'Content-Type: application/json' \
--data-raw '{
    "connectionId": "",
    "correlationId": "postman-ftr-bce64c5d-7384-4959-88cc-8acaa43c0d72",
    "printData": "JVBERi0xLjQKJdP0zOEKMSAwIG9iago8PAovQ3JlYXRpb25EYXRx"
}'
</code></pre>
    </div>
</div>
<p class="caption">Sample Print API request that issues a command to a device to print a boarding pass.</p>

<h2>Components of a Print API Call</h2>


<h3 id="resource-urls-1">Resource URLs</h3>
<p>At present, Print API Resource URLs are comprised of:</p>
<ul>
    <li>
        A REST API standard method preceding the URL for accessing the endpoint.
        In the case of the Print API, the only method used is POST.
    </li>
    <li>
        A Base URL specific to the SITA Flex environment, sometimes displayed as
        <code class="inline-code">{{baseurl}}</code> in the Resource URL in
        Postman.
    </li>
    <li>
        The end path of the Resource URL is comprised of the API name (
        <code class="inline-code">print</code>) followed by the endpoint name.
        For example, the end path
        <code class="inline-code">/print/v2/boardingpass/</code> contains the
        API <code class="inline-code">print</code> followed by the endpoint
        <code class="inline-code">boardingpass</code>.
    </li>
    <li>
        Path parameters, which may or may not be required depending on the
        endpoint. For example, when sending a POST
        <code class="inline-code">/print/v2/boardingpass/</code> request, you
        must append the path parameter
        <code class="inline-code">{type}</code> to the end path to indicate the
        requested print format for the boarding pass: POST
        <code class="inline-code">/print/v2/boardingpass/pdf</code>.
    </li>
</ul>
<h3 id="header-parameters-1">Header Parameters</h3>
<p>
    A <code class="inline-code">location-id</code> is required in the header of
    the request. Flex APIs use the Azure API Management service (APIM) to route
    requests to the correct Azure Region based on the airport code extracted
    from the <code class="inline-code">LocationId</code>.
</p>
<h3 id="authorization-headers-1">Authorization Headers</h3>
<p>
    An <code class="inline-code">access_token</code> is required in the
    Authorization Header of requests for authentication.
</p>
<div class="alert-section info-alert">
    <div class="">
        <p>
            The
            <code class="inline-code">access_token</code> is displayed as the
            Postman variable <code class="inline-code">bearer_token</code> in
            the <strong>Authorization</strong> tab of API requests in the
            provided Postman collection.
        </p>
    </div>
</div>
    <h3 id="request-bodies-1">Request Bodies</h3>
    <p>
        All Request Bodies must include the
        <code class="inline-code">ConnectionId</code> of the device the airline
        backend wishes to interact with and some form of print data depending on
        the format that defines the print output.
    </p>
    <ul>
        <li>
            PDF, SVG, and report data are represented by the property
            <code class="inline-code">PrintData</code> in the Request Body.
        </li>
        <li>
            AEA print data are represented by the property
            <code class="inline-code">AeaPrintData</code> in the Request Body.
        </li>
        <li>
            In addition to including
            <code class="inline-code">PrintData</code> in baggage tag PDF
            requests, the <code class="inline-code">RfidData</code> property can
            be included in the Request Body to represent RFID baggage tag data.
        </li>
    </ul>
    <h4>Print a Boarding Pass (PDF/SVG)</h4>
    <p>
        The following is a sample Request Body for printing a boarding pass
        using an ATB device in either PDF or SVG format. PDF and SVG data are
        represented by the property
        <code class="inline-code">printData</code> passed in the Request Body.
    </p>


    <div class="method-example atom-one-light">
        <div class="method-example-top-bar">Error</div>
        <pre>
                <code class="language-json">
{
    "connectionId": "54624182-10c5-481b-ad9a-b9d1473bdb6f",
    "correlationId": "string",
    "printData": "JVBERi0xLjQKJdP0zOEKMSAwIG9iago8PAovQ3JlYXRpb25EYXRlKEQ6MjAxODEwM..."
}
            </code>
            </pre>
    </div>



    <p class="caption">
        Sample Request Body for <span class="method post">POST</span>
        <code class="inline-code">/print/v2/boardingpass/</code> request
    </p>

    <h4>Print a Bag Tag (PDF)</h4>
    <p>
        The following is a sample Request Body for printing a bag tag using a
        BTP device in PDF format. The PDF data are represented by
        <code class="inline-code">printData</code>, same as when printing a PDF
        using an ATB. However, there is another data property called
        <code class="inline-code">rfidData</code> associated with baggage tag
        data specific to the BTP.
    </p>


    <div class="method-example atom-one-light">
        <div class="method-example-top-bar">Error</div>
        <pre>
                <code class="language-json">
{
    "connectionId": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
    "correlationId": "347d8924-73cf-4662-ad34-0ebfc28c4fc6",
    "printData": "JVBERi0xLjQKJdP0zOEKMSAwIG9iago8PAovQ3JlYXRpb25EYXRlKEQ6MjAxODEwM...",
    "rfidData": {
        "licensePlateNumber": "507KLV",
        "julianDate": "21319"
    }
}
            </code>
            </pre>
    </div>


    <p class="caption">
        Sample Request Body for <span class="method post">POST</span>
        <code class="inline-code">/print/v2/baggagetag/pdf</code> request
    </p>

    <h4>Print in AEA Format</h4>
    <p>
        The following is a sample Request Body for printing either a boarding
        pass or bag tag in AEA format. Notice that
        <code class="inline-code">aeaPrintData</code> is used instead of
        <code class="inline-code">printData</code>.
    </p>

    <div class="method-example atom-one-light">
        <div class="method-example-top-bar">Error</div>
        <pre>
                <code class="language-json">
{
    "connectionId": "33ed0d5a-3a92-4f08-be97-73535d73fc09",
    "correlationId": "10099a59-6880-468d-ac66-8bbda5eb7d02",
    "aeaPrintData": {
        "pectab": "UFQjIz9WMU4jQDsjVElDS1QjQ0hLSU4jQk9BUkQjMDEwMTE...",
        "logos": [
        "AAAAANH/wfDR/8Hw0f/B8NH/wfDR/8Hw0f/B8NH/wfDR/8H/B8NH//B..."
        ],
        "printData": "Q1AjMUMwMSMwMVYjMDJNMVZFUllMT05HRVhDRUVEU1NV..."
    }
}
            </code>
            </pre>
    </div>


    <p class="caption">
        Sample Request Body for printing boarding passes or bag tags in AEA
        format
    </p>
</div>


<div class="continued-reading-section">
    <h2 class="continued-reading">Next Steps</h2>
    <ul class="continue-link-list">

        <div class="continue-link-row">
            <div class="svg-container">
                <svg
                    version="1.1"
                    id="Capa_1"
                    xmlns="http://www.w3.org/2000/svg"
                    xmlns:xlink="http://www.w3.org/1999/xlink"
                    x="0px"
                    y="0px"
                    viewBox="0 0 482.204 482.204"
                    style="enable-background: new 0 0 482.204 482.204"
                    xml:space="preserve"
                >
                    <g>
                        <path
                            style="fill: #5469d4"
                            d="M83.127,344.477c54.602,1.063,101.919,9.228,136.837,23.613c0.596,0.244,1.227,0.366,1.852,0.366
                    c0.95,0,1.895-0.279,2.706-0.822c1.349-0.902,2.158-2.418,2.158-4.041l0.019-261.017c0-1.992-1.215-3.783-3.066-4.519
                    L85.019,42.899c-1.496-0.596-3.193-0.411-4.527,0.494c-1.334,0.906-2.133,2.413-2.133,4.025v292.197
                    C78.359,342.264,80.479,344.425,83.127,344.477z"
                        />
                        <path
                            style="fill: #5469d4"
                            d="M480.244,89.256c-1.231-0.917-2.824-1.198-4.297-0.759l-49.025,14.657
                    c-2.06,0.616-3.471,2.51-3.471,4.659v252.151c0,0,0.218,3.978-3.97,3.978c-4.796,0-7.946,0-7.946,0
                    c-39.549,0-113.045,4.105-160.93,31.6l-9.504,5.442l-9.503-5.442c-47.886-27.494-121.381-31.6-160.93-31.6c0,0-8.099,0-10.142,0
                    c-1.891,0-1.775-2.272-1.775-2.271V107.813c0-2.149-1.411-4.043-3.47-4.659L6.256,88.497c-1.473-0.439-3.066-0.158-4.298,0.759
                    S0,91.619,0,93.155v305.069c0,1.372,0.581,2.681,1.597,3.604c1.017,0.921,2.375,1.372,3.741,1.236
                    c14.571-1.429,37.351-3.131,63.124-3.131c56.606,0,102.097,8.266,131.576,23.913c4.331,2.272,29.441,15.803,41.065,15.803
                    c11.624,0,36.733-13.53,41.063-15.803c29.48-15.647,74.971-23.913,131.577-23.913c25.771,0,48.553,1.702,63.123,3.131
                    c1.367,0.136,2.725-0.315,3.742-1.236c1.016-0.923,1.596-2.231,1.596-3.604V93.155C482.203,91.619,481.476,90.173,480.244,89.256z
                    "
                        />
                        <path
                            style="fill: #5469d4"
                            d="M257.679,367.634c0.812,0.543,1.757,0.822,2.706,0.822c0.626,0,1.256-0.122,1.853-0.366
                    c34.917-14.386,82.235-22.551,136.837-23.613c2.648-0.052,4.769-2.213,4.769-4.861V47.418c0-1.613-0.799-3.12-2.133-4.025
                    c-1.334-0.904-3.031-1.09-4.528-0.494L258.569,98.057c-1.851,0.736-3.065,2.527-3.065,4.519l0.019,261.017
                    C255.521,365.216,256.331,366.732,257.679,367.634z"
                        />
                    </g>
                </svg>
            </div>
            <div>
                <a href="/APIs/print/messages-overview">Service Bus Messages Overview</a>
            </div>
        </div>
        <div class="continue-link-row">
            <div class="svg-container">
                <svg
                    version="1.1"
                    id="Capa_1"
                    xmlns="http://www.w3.org/2000/svg"
                    xmlns:xlink="http://www.w3.org/1999/xlink"
                    x="0px"
                    y="0px"
                    viewBox="0 0 482.204 482.204"
                    style="enable-background: new 0 0 482.204 482.204"
                    xml:space="preserve"
                >
                    <g>
                        <path
                            style="fill: #5469d4"
                            d="M83.127,344.477c54.602,1.063,101.919,9.228,136.837,23.613c0.596,0.244,1.227,0.366,1.852,0.366
                    c0.95,0,1.895-0.279,2.706-0.822c1.349-0.902,2.158-2.418,2.158-4.041l0.019-261.017c0-1.992-1.215-3.783-3.066-4.519
                    L85.019,42.899c-1.496-0.596-3.193-0.411-4.527,0.494c-1.334,0.906-2.133,2.413-2.133,4.025v292.197
                    C78.359,342.264,80.479,344.425,83.127,344.477z"
                        />
                        <path
                            style="fill: #5469d4"
                            d="M480.244,89.256c-1.231-0.917-2.824-1.198-4.297-0.759l-49.025,14.657
                    c-2.06,0.616-3.471,2.51-3.471,4.659v252.151c0,0,0.218,3.978-3.97,3.978c-4.796,0-7.946,0-7.946,0
                    c-39.549,0-113.045,4.105-160.93,31.6l-9.504,5.442l-9.503-5.442c-47.886-27.494-121.381-31.6-160.93-31.6c0,0-8.099,0-10.142,0
                    c-1.891,0-1.775-2.272-1.775-2.271V107.813c0-2.149-1.411-4.043-3.47-4.659L6.256,88.497c-1.473-0.439-3.066-0.158-4.298,0.759
                    S0,91.619,0,93.155v305.069c0,1.372,0.581,2.681,1.597,3.604c1.017,0.921,2.375,1.372,3.741,1.236
                    c14.571-1.429,37.351-3.131,63.124-3.131c56.606,0,102.097,8.266,131.576,23.913c4.331,2.272,29.441,15.803,41.065,15.803
                    c11.624,0,36.733-13.53,41.063-15.803c29.48-15.647,74.971-23.913,131.577-23.913c25.771,0,48.553,1.702,63.123,3.131
                    c1.367,0.136,2.725-0.315,3.742-1.236c1.016-0.923,1.596-2.231,1.596-3.604V93.155C482.203,91.619,481.476,90.173,480.244,89.256z
                    "
                        />
                        <path
                            style="fill: #5469d4"
                            d="M257.679,367.634c0.812,0.543,1.757,0.822,2.706,0.822c0.626,0,1.256-0.122,1.853-0.366
                    c34.917-14.386,82.235-22.551,136.837-23.613c2.648-0.052,4.769-2.213,4.769-4.861V47.418c0-1.613-0.799-3.12-2.133-4.025
                    c-1.334-0.904-3.031-1.09-4.528-0.494L258.569,98.057c-1.851,0.736-3.065,2.527-3.065,4.519l0.019,261.017
                    C255.521,365.216,256.331,366.732,257.679,367.634z"
                        />
                    </g>
                </svg>
            </div>
            <div>
                <a href="/APIs/print/API-tutorial"
                    >API Tutorial</a
                >
            </div>
        </div>
    </ul>
</div>
