<div class="title-box">
    <h1 class="topic-title">Print API Call Components</h1>
    <div class="action-statement">
        Learn about the required components of a Print API call
    </div>
</div>

<p>
    Below is a sample <span class="method post">POST</span>
    <code class="inline-code">/print/v2/boardingpass/pdf</code> call to the Scan
    API that contains the required components:
    <ul>
        <li>Resource URL <code class=inline-code>https://</code></li>
        <li>Header Parameters <code class=inline-code>--header</code></li></li>
        <li>Request Body <code class=inline-code>--data-raw</code></li>
    </ul>
</p>

<div class="code-section no-tabs">
    <div class="code-section-header">
        <div class="lang-label-container">
            <div class="">
                <div class="lang-label">Curl</div>
            </div>
        </div>
        <div class="copy-code-btn-container">
            <button class="copy-code-btn">
                <svg
                    viewBox="0 0 1000 1000"
                    height="20"
                    width="20"
                    xmlns="http://www.w3.org/2000/svg"
                    role="img"
                >
                    <title>Copy to Clipboard</title>
                    <path
                        d="M704 896H64V320h640v192h64V192c0-35-29-64-64-64H512C512 57 455 0 384 0S256 57 256 128H64c-35 0-64 29-64 64v704c0 35 29 64 64 64h640c35 0 64-29 64-64V768h-64v128zM192 192h64s64-29 64-64 29-64 64-64 64 29 64 64 32 64 64 64h64s64 29 64 64H128c0-39 28-64 64-64zm-64 512h128v-64H128v64zm448-128V448L320 640l256 192V704h220V576H576zM128 832h192v-64H128v64zm320-448H128v64h220v-64zM256 512H128v64h128v-64z"
                    />
                </svg>
            </button>
        </div>
    </div>
    <div class="copied-popup hidden">Copied!</div>
    <div class="code-content dark">
        <pre><code class="language-bash">
curl --location -g --request POST 'https://{{baseurl}}/print/v2/boardingpass/pdf' \
--header 'location-id: {{locationId}}' \
--header 'Content-Type: application/json' \
--data-raw '{
    "attachmentId": "",
    "relationId": "postman-ftr-bce64c5d-7384-4959-88cc-8acaa43c0d72",
    "printData": "JVBERi0xLjQKJdP0zOEKMSAwIG9iago8PAovQ3JlYXRpb25EYXRx"
}'
</code></pre>
    </div>
</div>
<p class="caption">
    Sample Print API call containing the required components to successfully make the call
</p>

<h2 id="resource-urls-1">Resource URLs</h2>
<p>At present, Print API Resource URLs are comprised of:</p>
<ul>
    <li>
        A REST API standard method preceding the URL for accessing the endpoint.
        In the case of the Print API, the only method used is <span class="method post">POST</span>.
    </li>
    <li>
        A Base URL specific to the CoreTech IoT environment, sometimes displayed as
        <code class="inline-code">{{baseurl}}</code> in the Resource URL in
        Postman.
    </li>
    <li>
        The end path of the Resource URL is comprised of the API name (
        <code class="inline-code">print</code>) followed by the endpoint name.
        For example, the end path
        <code class="inline-code">/print/v2/boardingpass/</code> contains the
        API <code class="inline-code">print</code> followed by the endpoint
        <code class="inline-code">boardingpass</code>.
    </li>
    <li>
        Path parameters, which may or may not be required depending on the
        endpoint. For example, when sending a <span class="method post">POST </span><code class="inline-code">/print/v2/boardingpass/</code> request, you
        must append the path parameter
        <code class="inline-code">{type}</code> to the end path to indicate the
        requested print format for the entry pass: <span class="method post">POST </span><code class="inline-code">/print/v2/boardingpass/pdf</code>.
    </li>
</ul>
<h2 id="header-parameters-1">Header Parameters</h2>
<p>
    A <code class="inline-code">location-id</code> is required in the header of
    the request. CoreTech APIs use the Azure API Management service (APIM) to route
    requests to the correct Azure Region based on the customer code extracted
    from the <code class="inline-code">LocationId</code>.
</p>
<h2 id="authorization-headers-1">Authorization Headers</h2>
<p>
    An <code class="inline-code">access_token</code> is required in the
    Authorization Header of requests for authentication.
</p>
<div class="alert-section info-alert">
    <div class="">
        <p>
            The
            <code class="inline-code">access_token</code> is displayed as the
            Postman variable <code class="inline-code">bearer_token</code> in
            the <strong>Authorization</strong> tab of API requests in the
            provided Postman collection.
        </p>
    </div>
</div>
<h2 id="request-bodies-1">Request Bodies</h2>
<p>
    All Request Bodies must include the
    <code class="inline-code">ConnectionId</code> of the device the airline
    backend wishes to interact with and some form of print data depending on the
    format that defines the print output.
</p>
<ul>
    <li>
        PDF, SVG, and report data are represented by the property
        <code class="inline-code">PrintData</code> in the Request Body.
    </li>
    <li>
        Legacy print data are represented by the property
        <code class="inline-code">LegacyPrintData</code> in the Request Body.
    </li>
    <li>
        In addition to including
        <code class="inline-code">PrintData</code> in item tag PDF requests,
        the <code class="inline-code">RfidData</code> property can be included
        in the Request Body to represent RFID item tag data.
    </li>
</ul>

<div class="continued-reading-section">
    <h2 class="continued-reading">Next Steps</h2>
    <ul class="continue-link-list">
        <div class="continue-link-row">
            <div class="svg-container">
                <svg
                    version="1.1"
                    id="Capa_1"
                    xmlns="http://www.w3.org/2000/svg"
                    xmlns:xlink="http://www.w3.org/1999/xlink"
                    x="0px"
                    y="0px"
                    viewBox="0 0 482.204 482.204"
                    style="enable-background: new 0 0 482.204 482.204"
                    xml:space="preserve"
                >
                    <g>
                        <path
                            style="fill: #5469d4"
                            d="M83.127,344.477c54.602,1.063,101.919,9.228,136.837,23.613c0.596,0.244,1.227,0.366,1.852,0.366
                    c0.95,0,1.895-0.279,2.706-0.822c1.349-0.902,2.158-2.418,2.158-4.041l0.019-261.017c0-1.992-1.215-3.783-3.066-4.519
                    L85.019,42.899c-1.496-0.596-3.193-0.411-4.527,0.494c-1.334,0.906-2.133,2.413-2.133,4.025v292.197
                    C78.359,342.264,80.479,344.425,83.127,344.477z"
                        />
                        <path
                            style="fill: #5469d4"
                            d="M480.244,89.256c-1.231-0.917-2.824-1.198-4.297-0.759l-49.025,14.657
                    c-2.06,0.616-3.471,2.51-3.471,4.659v252.151c0,0,0.218,3.978-3.97,3.978c-4.796,0-7.946,0-7.946,0
                    c-39.549,0-113.045,4.105-160.93,31.6l-9.504,5.442l-9.503-5.442c-47.886-27.494-121.381-31.6-160.93-31.6c0,0-8.099,0-10.142,0
                    c-1.891,0-1.775-2.272-1.775-2.271V107.813c0-2.149-1.411-4.043-3.47-4.659L6.256,88.497c-1.473-0.439-3.066-0.158-4.298,0.759
                    S0,91.619,0,93.155v305.069c0,1.372,0.581,2.681,1.597,3.604c1.017,0.921,2.375,1.372,3.741,1.236
                    c14.571-1.429,37.351-3.131,63.124-3.131c56.606,0,102.097,8.266,131.576,23.913c4.331,2.272,29.441,15.803,41.065,15.803
                    c11.624,0,36.733-13.53,41.063-15.803c29.48-15.647,74.971-23.913,131.577-23.913c25.771,0,48.553,1.702,63.123,3.131
                    c1.367,0.136,2.725-0.315,3.742-1.236c1.016-0.923,1.596-2.231,1.596-3.604V93.155C482.203,91.619,481.476,90.173,480.244,89.256z
                    "
                        />
                        <path
                            style="fill: #5469d4"
                            d="M257.679,367.634c0.812,0.543,1.757,0.822,2.706,0.822c0.626,0,1.256-0.122,1.853-0.366
                    c34.917-14.386,82.235-22.551,136.837-23.613c2.648-0.052,4.769-2.213,4.769-4.861V47.418c0-1.613-0.799-3.12-2.133-4.025
                    c-1.334-0.904-3.031-1.09-4.528-0.494L258.569,98.057c-1.851,0.736-3.065,2.527-3.065,4.519l0.019,261.017
                    C255.521,365.216,256.331,366.732,257.679,367.634z"
                        />
                    </g>
                </svg>
            </div>
            <div>
                <a href="/print/print-messages-overview"
                    >Service Bus Messages Overview</a
                >
            </div>
        </div>
   
    </ul>
</div>
